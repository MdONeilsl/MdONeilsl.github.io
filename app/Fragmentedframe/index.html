<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fragmented Frame Tool</title>
    <meta name="description"
        content="Create professional fragmented frame designs for Second Life with custom textures">
    
</head>

<body>
    <link rel="stylesheet" href="./css/style.css">
    
    <div class="app">
        <!-- Header -->
        <header class="header">
            <h1 class="app-title">
                <span class="app-icon">‚ßâ</span>
                Fragmented Frame Tool
            </h1>
            <div class="header-controls">
                <button id="toggle-theme" class="btn-icon" title="Toggle theme">
                    <span class="theme-icon">üåô</span>
                </button>
                <button id="show-help" class="btn-icon" title="Show help">?</button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main">
            <!-- Toolbar -->
            <section class="toolbar">
                <div class="tool-group">
                    <h3>Shapes</h3>
                    <div class="tool-buttons">
                        <button id="tool-circle" class="tool-btn active" data-tool="circle" title="Circle">
                            <span class="tool-icon">‚óè</span>
                            Circle
                        </button>
                        <button id="tool-rectangle" class="tool-btn" data-tool="rectangle" title="Rectangle">
                            <span class="tool-icon">‚ñ°</span>
                            Rectangle
                        </button>
                        <button id="tool-triangle" class="tool-btn" data-tool="triangle" title="Triangle">
                            <span class="tool-icon">‚ñ≥</span>
                            Triangle
                        </button>
                        <button id="tool-pentagon" class="tool-btn" data-tool="pentagon" title="Pentagon">
                            <span class="tool-icon">‚¨†</span>
                            Pentagon
                        </button>
                        <button id="tool-hexagon" class="tool-btn" data-tool="hexagon" title="Hexagon">
                            <span class="tool-icon">‚¨¢</span>
                            Hexagon
                        </button>
                    </div>
                </div>

                <div class="tool-group">
                    <h3>Actions</h3>
                    <div class="tool-buttons">
                        <button id="tool-select" class="tool-btn" data-tool="select" title="Select Tool (V)">
                            <span class="tool-icon">‚Ü¶</span>
                            Select
                        </button>
                        <button id="clear-all" class="tool-btn btn-danger" title="Clear All">
                            <span class="tool-icon">üóëÔ∏è</span>
                            Clear
                        </button>
                        <button id="undo" class="tool-btn" title="Undo (Ctrl+Z)" disabled>
                            <span class="tool-icon">‚Ü∂</span>
                            Undo
                        </button>
                        <button id="redo" class="tool-btn" title="Redo (Ctrl+Y)" disabled>
                            <span class="tool-icon">‚Ü∑</span>
                            Redo
                        </button>
                    </div>
                </div>

                <div class="tool-group">
                    <h3>Files</h3>
                    <div class="file-controls">
                        <div class="file-upload-wrapper">
                            <input type="file" id="upload-texture" accept="image/*" class="file-input">
                            <label for="upload-texture" class="file-btn">
                                <span class="tool-icon">üìÅ</span>
                                Upload Texture
                            </label>
                        </div>
                        <button id="export-mesh" class="tool-btn btn-primary" title="Export Mesh">
                            <span class="tool-icon">üì¶</span>
                            Export Mesh
                        </button>
                    </div>
                </div>
            </section>

            <!-- Canvas Area -->
            <section class="canvas-area">
                <div class="canvas-container">
                    <!-- 
                    <div class="canvas-controls">
                        <button id="zoom-in" class="btn-icon" title="Zoom In">+</button>
                        <button id="zoom-out" class="btn-icon" title="Zoom Out">-</button>
                        <button id="reset-view" class="btn-icon" title="Reset View">‚ü≤</button>
                        <span class="zoom-level">100%</span>
                    </div>
                    -->
                    <canvas id="main-canvas" width="800" height="600"></canvas>
                    <div class="canvas-overlay" id="canvas-overlay"></div>
                </div>

                <div class="status-bar">
                    <div class="status-left">
                        <span id="shape-count">0 shapes</span>
                        <span id="selected-info" class="selected-info"></span>
                    </div>
                    <div class="status-right">
                        <span id="cursor-position">X: 0, Y: 0</span>
                    </div>
                </div>
            </section>

            <!-- Properties Panel -->
            <aside class="properties-panel">
                <h3>Properties</h3>
                <div class="property-group">
                    <h4>Selected Shape</h4>
                    <div id="shape-properties" class="property-controls">
                        <p class="no-selection">No shape selected</p>
                    </div>
                </div>
                <div class="property-group">
                    <h4>Canvas Settings</h4>
                    <div class="property-controls">
                        <label class="checkbox-label">
                            <input type="checkbox" id="show-grid" checked>
                            Show Grid
                        </label>
                        <label class="checkbox-label">
                            <button id="snap-to-grid">Snap to Grid</button>
                        </label>
                    </div>
                </div>
            </aside>
        </main>

        <!-- Tutorial Panel -->
        <aside class="tutorial-panel">
            <div class="tutorial-header">
                <h3>Quick Guide</h3>
                <button id="toggle-tutorial" class="btn-icon">‚àí</button>
            </div>
            <div class="tutorial-content">
                <ul>
                    <li>Upload image for canvas texture</li>
                    <li>Select shape tool and click+drag to draw</li>
                    <li>Click shapes to select (red outline)</li>
                    <li>Drag selected shapes to move</li>
                    <li>Hold <kbd>S</kbd> + drag to scale</li>
                    <li>Hold <kbd>R</kbd> + drag to rotate</li>
                    <li><kbd>Ctrl+C</kbd> to copy, <kbd>Ctrl+V</kbd> to paste</li>
                    <li><kbd>Delete</kbd> to remove selected shapes</li>
                    <li>Export mesh - includes texture in ZIP</li>
                </ul>
            </div>
        </aside>
    </div>

    <!-- Notifications -->
    <div id="notifications" class="notifications"></div>

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay hidden">
        <div class="loading-spinner"></div>
        <p>Processing...</p>
    </div>

    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@latest/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@latest/examples/jsm/"
            }
        }
    </script>

    <footer>
        <p>¬©2025 Fragmented Frame . All rights reserved.</p>
        <p>Fragmented Frame is not affiliated with Linden Research. Second Life and SL are trademarks of Linden
            Research, Inc.</p>
        <p>Developed by MdONeil under <a href="https://www.gnu.org/licenses/gpl-3.0.html" target="_blank">GPL-3.0
                License</a></p>
        <div class="footer-links">
            <span>Powered by:</span>
            <a href="https://threejs.org/" target="_blank">Three.js (MIT)</a>
        </div>
        <p>Contact: <a href="secondlife:///app/agent/ae929a12-297c-45be-9748-562ee17e937e/about" target="_blank">Second
                Life Profile</a></p>
    </footer>

    <script type="module" src="./js/main.js"></script>
</body>

</html>